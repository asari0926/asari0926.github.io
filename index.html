    // プレイヤーのレベルを上げる関数
    function levelUp(level, cost) {
        if (coinCount >= cost) {
            playerLevel += level; // プレイヤーのレベルを上げる
            coinCount -= cost; // コインを消費
            document.getElementById('player-number').textContent = `レベル ${playerLevel}`;
            document.getElementById('coin-count').textContent = coinCount; // コインの表示を更新
            document.getElementById('shop-message').textContent = `レベルが${level}上がりました！`;
        } else {
            document.getElementById('shop-message').textContent = `コインが足りません！`;
        }
    }

    // クエストを更新する関数
    function updateQuestList() {
        const questListDiv = document.getElementById('quest-list');
        questListDiv.innerHTML = ''; // クリアリストをクリア
        
        quests.forEach((quest, index) => {
            if (!quest.completed) {
                const questDiv = document.createElement('div');
                questDiv.textContent = `${quest.level}以上の敵を倒してみよう！ 報酬: ${quest.reward}コイン`;
                
                // 完了ボタンを作成
                const completeButton = document.createElement('button');
                completeButton.textContent = '完了';
                completeButton.addEventListener('click', () => completeQuest(index)); // 完了処理を追加
                questDiv.appendChild(completeButton);
                
                questListDiv.appendChild(questDiv);
            }
        });
        
        // すべてのクエストが完了した場合
        if (quests.every(q => q.completed)) {
            questListDiv.innerHTML = '<p>クエスト終了！すべてのミッションを達成しました。</p>';
        }
    }

    // クエストを完了させる関数
    function completeQuest(index) {
        if (playerLevel >= quests[index].level) {
            coinCount += quests[index].reward; // 報酬を追加
            quests[index].completed = true; // クエストを完了に設定
            document.getElementById('coin-count').textContent = coinCount; // コインの表示を更新
            updateQuestList(); // クエストリストを更新
        } else {
            alert(`レベル${quests[index].level}以上の敵を倒す必要があります！`);
        }
    }

    // イベントリスナーの設定
    document.getElementById('start-button').addEventListener('click', showGameScreen);
    document.getElementById('shop-button').addEventListener('click', showShopScreen);
    document.getElementById('quest-button').addEventListener('click', showQuestScreen);
    document.getElementById('home-button').addEventListener('click', showHomeScreen);
    document.getElementById('shop-home-button').addEventListener('click', showHomeScreen);
    document.getElementById('quest-home-button').addEventListener('click', showHomeScreen);
    document.getElementById('fight-button').addEventListener('click', fight);
</script>
